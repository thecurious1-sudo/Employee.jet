<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
<!-- MDB -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.3.0/mdb.min.css" rel="stylesheet" />
<!-- MDB -->
<link href="/css/project/index.css" rel="stylesheet" />
<link rel="stylesheet" href="/css/privateToDo.css">
<script src="/js/privateToDo.js"></script>
<div class="container">

    <% if(!project) {%>
        <h1>No project found</h1>
        <% } else {%>
            <div id="main-card" class="card">
                <div>
                    <div class="card-title-container-title">
                        <h3><%=project.name%></h3>
                    </div>
                    <div class="card-title-container-subtitle">
                        <h6 class="card-subtitle mb-2 text-muted"><%=project.description%> </h6>
                    </div>
                </div>
                <div class="row">
                    <% for(let i=0;i<project.team.length;i++) { %>
                        <div class="col-11 mt-3 ml-5">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title"><%= project.team[i].name %></h5>
                                    <hr>
                                    <% for(let task of project.team[i].projectsToDoList.tasks) { %>
                                    <form action="/users/update-private-todo-list/<%=task._id%>" method="post" class="form-task-<%=task._id%>">
                                      <ul class="list-group list-group-horizontal rounded-0 bg-transparent">
                                        <li class="list-group-item d-flex align-items-center ps-0 pe-3 py-1 rounded-0 border-0 bg-transparent hide-on-edit">
                                          <div class="form-check">
                                            <input class="form-check-input me-0 hide-on-edit" type="checkbox" value="" id="flexCheckChecked1" aria-label="..." />
                                          </div>
                                        </li>
                                        <li class="list-group-item px-3 py-1 d-flex align-items-center flex-grow-1 border-0 bg-transparent"
                                          style="width: 65%; overflow-wrap: anywhere;">
                                          <textarea id="task-<%=task._id%>" type="text" class="lead fw-normal mb-0 hide-on-edit private-todo-textarea" disabled ><%= task.task %></textarea>
                                        </li>
                                        <li class="list-group-item ps-3 pe-10 py-1.5 rounded-0 border-0 bg-transparent" style="width: 19%;">
                                          <div class="d-flex flex-row justify-content-end mb-1">
                                            <a id="edit-<%=task._id %>" href="#" class="text-info hide-on-edit" data-mdb-toggle="tooltip"
                                              title="Edit task"><i class="fas fa-pencil-alt me-3"></i></a>
                                            <a href="/users/delete-private-todo-list-task/<%=task._id%>" class="text-danger hide-on-edit" data-mdb-toggle="tooltip"
                                              title="Delete task"><i class="fas fa-trash-alt"></i></a>
                                          </div>
                                          <div class="text-end text-muted">
                                            <a href="#!" class="text-muted" data-mdb-toggle="tooltip" title="DEADLINE"
                                              style="text-align: left!important;">
                                              <p class="small mb-0 hide-on-edit"><i class="fas fa-info-circle me-2"></i>
                                                <%=task.deadline.toString().substring(0,15)%>
                                              </p>
                                            </a>
                                          </div>
                                        </li>
                                      </ul>
                                      <hr>
                                    </form>
                                    <% } %>
                                  
                                    <p class="card-text">With supporting text below as a natural lead-in to additional
                                        content.</p>
                                    <a href="#" class="btn btn-primary">Go somewhere</a>
                                </div>
                            </div>
                        </div>
                        <% } %>
                </div>
                <% } %>
            </div>
</div>


<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.3.0/mdb.min.js"></script>

<!--Main layout-->